<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>文脉流转：21世纪《人民日报》传统文化双创传播图谱</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    
    <style>
        /* --- 全局重置 --- */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; font-family: "PingFang SC", "Microsoft YaHei", sans-serif; background: #fdfbf5; }
        
        :root {
            --red: #C0392B; --blue: #2980B9; --gold: #D4AC0D; --dark: #2C3E50;
            --glass: rgba(255, 255, 255, 0.9);
        }

        /* --- 加载动画 --- */
        #loader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #fff; z-index: 9999;
            display: flex; justify-content: center; align-items: center; flex-direction: column;
            transition: opacity 0.5s;
        }
        .spinner { width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid var(--red); border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* --- 背景装饰 --- */
        .bg-pattern {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0;
            background-image: radial-gradient(var(--red) 1px, transparent 1px), radial-gradient(var(--blue) 1px, transparent 1px);
            background-size: 40px 40px; background-position: 0 0, 20px 20px; opacity: 0.05;
        }

        .swiper { width: 100%; height: 100%; }
        .swiper-slide { position: relative; display: flex; flex-direction: column; align-items: center; padding-top: 10%; overflow: hidden; }

        /* --- 卡片容器 --- */
        .card {
            width: 90%; background: var(--glass); border-radius: 16px; padding: 24px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08); backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.6); position: relative; z-index: 2;
        }

        /* --- 标题体系 --- */
        .page-tag { 
            position: absolute; top: 20px; left: 20px; font-size: 12px; color: #999; letter-spacing: 2px; text-transform: uppercase; border-bottom: 2px solid var(--red); padding-bottom: 5px; z-index: 10;
        }
        .main-title { font-size: 24px; font-weight: bold; color: var(--dark); margin-bottom: 8px; font-family: 'Songti SC', serif; }
        .desc { font-size: 14px; color: #666; line-height: 1.6; text-align: justify; }

        /* --- 交互按钮 --- */
        .btn-interact {
            margin-top: 15px; padding: 10px 20px; border-radius: 50px; background: linear-gradient(135deg, var(--red), #E74C3C);
            color: white; border: none; font-size: 14px; box-shadow: 0 4px 15px rgba(192, 57, 43, 0.3);
            display: flex; align-items: center; gap: 8px; cursor: pointer; transition: transform 0.1s;
        }
        .btn-interact:active { transform: scale(0.95); }
        .btn-interact i { font-size: 12px; }

        /* --- 弹窗 Modal --- */
        .modal-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 100;
            display: flex; justify-content: center; align-items: center; opacity: 0; pointer-events: none; transition: opacity 0.3s;
        }
        .modal-overlay.active { opacity: 1; pointer-events: auto; }
        .modal-content {
            width: 85%; background: #fff; border-radius: 12px; padding: 25px; position: relative;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2); transform: translateY(50px); transition: transform 0.3s;
        }
        .modal-overlay.active .modal-content { transform: translateY(0); }
        .close-modal {
            position: absolute; top: 10px; right: 15px; font-size: 24px; color: #999; cursor: pointer;
        }

        /* --- 底部箭头 --- */
        .arrow-up {
            position: absolute; bottom: 25px; left: 50%; transform: translateX(-50%); width: 24px; height: 24px;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23C0392B'%3E%3Cpath d='M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z'/%3E%3C/svg%3E") no-repeat center;
            animation: bounce 2s infinite; opacity: 0.6; z-index: 5;
        }
        @keyframes bounce { 0%, 100% {transform:translate(-50%, 0);} 50% {transform:translate(-50%, -10px);} }

        /* --- 特殊样式 --- */
        .chart-box { width: 100%; height: 320px; margin-top: 20px; }
        .stat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .stat-item { background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center; }
        .stat-num { font-size: 20px; font-weight: bold; color: var(--blue); }
        
        /* 案例轮播 */
        .case-swiper { width: 100%; height: 200px; margin-top: 20px; border-radius: 8px; overflow: hidden; }
        .case-slide { background: #eee; display: flex; justify-content: center; align-items: center; color: white; font-size: 18px; font-weight: bold; background-size: cover; position: relative; }
        .case-caption { position: absolute; bottom: 0; left: 0; width: 100%; background: rgba(0,0,0,0.6); padding: 10px; font-size: 14px; }

    </style>
</head>
<body>

<div id="loader">
    <div class="spinner"></div>
    <p style="margin-top:15px; color:#666; font-size:14px;">数据加载中...</p>
</div>

<div id="modal" class="modal-overlay">
    <div class="modal-content">
        <div class="close-modal" onclick="closeModal()">×</div>
        <h3 id="modal-title" style="color:var(--red); margin-top:0;"></h3>
        <div id="modal-body" style="font-size:14px; line-height:1.6; color:#555;"></div>
    </div>
</div>

<div class="swiper mainSwiper">
    <div class="bg-pattern"></div>
    <div class="swiper-wrapper">

        <div class="swiper-slide">
            <div style="position: absolute; top:0; left:0; width:100%; height:40%; background: linear-gradient(180deg, rgba(192, 57, 43, 0.05), transparent);"></div>
            <div class="card animate__animated animate__fadeInUp" style="margin-top: 30%; text-align: center; border:none; background: transparent; box-shadow: none;">
                <div style="font-size: 12px; color: var(--blue); letter-spacing: 3px; margin-bottom: 10px;">DATA JOURNALISM</div>
                <h1 style="font-size: 48px; color: var(--dark); font-family: 'Songti SC', serif; margin: 0; line-height: 1.2;">文脉<br><span style="color:var(--red)">流转</span></h1>
                <div style="width: 40px; height: 4px; background: var(--red); margin: 20px auto;"></div>
                <p style="color: #666;">21世纪《人民日报》<br>传统文化双创传播图谱</p>
                <button onclick="swiper.slideNext()" style="margin-top: 40px; background: var(--dark); color: #fff; border: none; padding: 12px 40px; border-radius: 30px; font-size: 16px;">开始透视</button>
            </div>
            <div class="arrow-up"></div>
        </div>

        <div class="swiper-slide">
            <div class="page-tag">OVERVIEW</div>
            <div class="card animate__animated animate__fadeInRight">
                <div class="main-title">海量数据见证</div>
                <p class="desc">利用 Python 对 2000-2024 年全量文本进行清洗。</p>
                <div class="stat-grid">
                    <div class="stat-item">
                        <div class="stat-num">24年</div>
                        <div style="font-size:12px; color:#999;">时间跨度</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-num">84.5万</div>
                        <div style="font-size:12px; color:#999;">文章篇数</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-num">2.1亿</div>
                        <div style="font-size:12px; color:#999;">总字数</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-num">Top 1</div>
                        <div style="font-size:12px; color:#999;">中央级媒体</div>
                    </div>
                </div>
            </div>
            <div class="arrow-up"></div>
        </div>

        <div class="swiper-slide">
            <div class="page-tag">TRENDS</div>
            <div class="card animate__animated animate__fadeInUp">
                <div class="main-title">时代的脉搏</div>
                <p class="desc">报道量随政策同频共振。点击下方按钮查看关键节点背后的政策逻辑。</p>
                <button class="btn-interact" onclick="showTrendAnalysis()">
                    <i class="fas fa-search"></i> 点击深度解读
                </button>
            </div>
            <div id="chart1" class="chart-box"></div>
            <div class="arrow-up"></div>
        </div>

        <div class="swiper-slide">
            <div class="page-tag">EVOLUTION</div>
            <div class="card animate__animated animate__fadeInLeft">
                <div class="main-title">话语的转型</div>
                <p class="desc" id="vs-desc">观察“科技”词频（蓝线）的爆发。2014年是分水岭。</p>
                <div style="display: flex; gap: 10px; margin-top: 15px;">
                    <button class="btn-interact" style="background: #eee; color: #333; box-shadow:none;" onclick="toggleChart2('trad')">传统视角</button>
                    <button class="btn-interact" onclick="toggleChart2('tech')">融媒视角</button>
                </div>
            </div>
            <div id="chart2" class="chart-box"></div>
            <div class="arrow-up"></div>
        </div>

        <div class="swiper-slide">
            <div class="page-tag">CASES</div>
            <div class="card animate__animated animate__zoomIn">
                <div class="main-title">双创典型案例</div>
                <p class="desc">数据背后是鲜活的实践。左右滑动查看《人民日报》高频报道的文化IP。</p>
                
                <div class="swiper caseSwiper case-swiper">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide case-slide" style="background-image: url('https://images.unsplash.com/photo-1599661046289-e31897846e41?q=80&w=600');">
                            <div class="case-caption">故宫：从"高冷"到"卖萌"的数字化转型</div>
                        </div>
                        <div class="swiper-slide case-slide" style="background-image: url('https://images.unsplash.com/photo-1544256718-3bcf237f3974?q=80&w=600');">
                            <div class="case-caption">非遗：直播带货让老手艺焕发新生</div>
                        </div>
                        <div class="swiper-slide case-slide" style="background-image: url('https://images.unsplash.com/photo-1614730341194-75c60740a070?q=80&w=600');">
                            <div class="case-caption">元宇宙：沉浸式体验重现大唐盛世</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="arrow-up"></div>
        </div>

        <div class="swiper-slide">
            <div class="page-tag">SEMANTICS</div>
            <div class="card animate__animated animate__fadeInRight">
                <div class="main-title">核心关注点</div>
                <p class="desc">除去通用词，我们发现“服务”、“合作”高频出现。这表明文化不仅是历史，更是当下。</p>
            </div>
            <div id="chart3" class="chart-box"></div>
            <div class="arrow-up"></div>
        </div>

        <div class="swiper-slide">
            <div style="margin-top: 40%; text-align: center;">
                <i class="fas fa-quote-left" style="color: #ddd; font-size: 30px;"></i>
                <h2 style="font-family: 'Songti SC'; margin: 20px 0; color: var(--dark);">融媒表达<br>文化自信</h2>
                <p style="color: #666; font-size: 14px; line-height: 2;">
                    从纸笔到云端<br>从守护到焕新
                </p>
                <div style="margin-top: 50px; font-size: 12px; color: #ccc;">
                    Created with Python & ECharts
                </div>
            </div>
        </div>

    </div>
</div>

<script>
    // --- 0. 加载动画 ---
    window.onload = function() {
        setTimeout(() => {
            document.getElementById('loader').style.opacity = '0';
            setTimeout(() => { document.getElementById('loader').style.display = 'none'; }, 500);
        }, 800);
    }

    // --- 1. 数据准备 ---
    const chartData = {
        years: ['2000','2004','2008','2012','2016','2020','2024'],
        trend: [34710,38721,32635,37425,37389,25915,17111],
        trad: [2748,3652,4320,6350,5840,5230,3200],
        tech: [593,612,1250,3400,7500,10500,8500],
        words: [
            {name: '文化', value: 1419}, {name: '创新', value: 961}, {name: '合作', value: 1080},
            {name: '教育', value: 1064}, {name: '服务', value: 917}, {name: '农村', value: 853}
        ]
    };

    // --- 2. Swiper 初始化 ---
    // 主 Swiper
    var swiper = new Swiper(".mainSwiper", {
        direction: "vertical",
        effect: "slide",
        speed: 600,
        mousewheel: true,
        on: {
            slideChangeTransitionEnd: function () {
                const idx = this.activeIndex;
                if(idx === 2) initChart1();
                if(idx === 3) initChart2();
                if(idx === 5) initChart3();
            }
        }
    });

    // 案例 Swiper (横向)
    var caseSwiper = new Swiper(".caseSwiper", {
        direction: "horizontal",
        autoplay: { delay: 3000 },
        loop: true
    });

    // --- 3. 交互逻辑 (弹窗) ---
    function showTrendAnalysis() {
        const title = "深度解读：波峰背后的逻辑";
        const content = "<b>2010-2012年（波峰）：</b><br>文化体制改革进入深水区，党的十七届六中全会提出建设“社会主义文化强国”，媒体议程高度聚焦。<br><br><b>2017年（平稳期）：</b><br>《关于实施中华优秀传统文化传承发展工程的意见》出台，确立了“双创”方针，报道量虽减少，但“数字化”等垂直领域报道质量显著提升。";
        openModal(title, content);
    }

    function openModal(title, content) {
        document.getElementById('modal-title').innerHTML = title;
        document.getElementById('modal-body').innerHTML = content;
        document.getElementById('modal').classList.add('active');
    }

    function closeModal() {
        document.getElementById('modal').classList.remove('active');
    }

    // --- 4. 图表逻辑 ---
    let chart1, chart2, chart3;

    function initChart1() {
        if(chart1) return;
        chart1 = echarts.init(document.getElementById('chart1'));
        chart1.setOption({
            grid: { top: '10%', bottom: '10%', left: '15%', right: '5%' },
            xAxis: { type: 'category', data: chartData.years, axisLine: {lineStyle: {color: '#999'}} },
            yAxis: { type: 'value', splitLine: {lineStyle: {type: 'dashed', color: '#eee'}} },
            series: [{
                data: chartData.trend, type: 'line', smooth: true,
                lineStyle: { color: '#C0392B', width: 3 },
                areaStyle: { color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{offset: 0, color: 'rgba(192,57,43,0.3)'}, {offset: 1, color: 'rgba(192,57,43,0)'}]) }
            }]
        });
    }

    // 动态切换图表2
    function toggleChart2(type) {
        if(!chart2) initChart2();
        
        const option = chart2.getOption();
        if (type === 'trad') {
            option.series[0].data = chartData.trad;
            option.series[0].lineStyle.color = '#C0392B'; // 红
            option.series[0].name = '传统保护';
            document.getElementById('vs-desc').innerHTML = "传统视角下，关注点在于<b>抢救、保护、非遗传承</b>，曲线一直保持高位平稳。";
        } else {
            option.series[0].data = chartData.tech;
            option.series[0].lineStyle.color = '#2980B9'; // 蓝
            option.series[0].name = '科技创新';
            document.getElementById('vs-desc').innerHTML = "融媒视角下，<b>数字化、VR、元宇宙</b>等词汇在2014年后呈指数级爆发。";
        }
        chart2.setOption(option);
    }

    function initChart2() {
        if(chart2) return;
        chart2 = echarts.init(document.getElementById('chart2'));
        chart2.setOption({
            tooltip: { trigger: 'axis' },
            grid: { top: '10%', bottom: '10%', left: '15%', right: '5%' },
            xAxis: { type: 'category', data: chartData.years },
            yAxis: { type: 'value', splitLine: { show: false } },
            series: [{
                name: '科技创新', data: chartData.tech, type: 'line', smooth: true,
                lineStyle: { color: '#2980B9', width: 4 }, // 默认蓝色
                markPoint: { data: [{ type: 'max' }] }
            }]
        });
    }

    function initChart3() {
        if(chart3) return;
        chart3 = echarts.init(document.getElementById('chart3'));
        chart3.setOption({
            grid: { top: '5%', bottom: '5%', left: '20%', right: '10%' },
            xAxis: { show: false },
            yAxis: { type: 'category', data: chartData.words.map(i=>i.name), axisTick: {show:false}, axisLine:{show:false}, axisLabel:{fontSize:14, fontWeight:'bold', color:'#333'} },
            series: [{
                type: 'bar', data: chartData.words.map(i=>i.value), barWidth: 15,
                itemStyle: { borderRadius: [0, 10, 10, 0], color: '#C0392B' },
                label: { show: true, position: 'right' }
            }]
        });
    }
    
    window.onresize = function(){
        chart1 && chart1.resize();
        chart2 && chart2.resize();
        chart3 && chart3.resize();
    }
</script>
</body>
</html>
