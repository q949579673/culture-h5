<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>21世纪《人民日报》文化双创数据特刊</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    
    <style>
        /* --- 1. 全局定义 --- */
        :root {
            --paper-bg: #f4f1ea; /* 报纸米色 */
            --ink-red: #B03A2E;  /* 报头红 */
            --ink-black: #2c2c2c;
            --tech-blue: #2874A6;
            --section-bg: #ffffff;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; margin: 0; padding: 0; }
        
        body { 
            font-family: "Songti SC", "SimSun", "Times New Roman", serif; 
            background-color: var(--paper-bg); 
            color: var(--ink-black);
            overflow-x: hidden;
        }

        /* 隐藏滚动条但保留功能 */
        ::-webkit-scrollbar { width: 0px; background: transparent; }

        /* --- 2. 悬浮菜单 (Global Nav) --- */
        .menu-btn {
            position: fixed; top: 20px; right: 20px; z-index: 1000;
            width: 45px; height: 45px; background: var(--ink-red); border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2); cursor: pointer; transition: transform 0.2s;
        }
        .menu-btn i { color: white; font-size: 20px; }
        .menu-btn:active { transform: scale(0.9); }

        .menu-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(44, 44, 44, 0.95); z-index: 999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none; transition: opacity 0.3s;
        }
        .menu-overlay.active { opacity: 1; pointer-events: auto; }

        .menu-list { list-style: none; text-align: center; }
        .menu-item { 
            font-size: 20px; color: #bbb; padding: 15px 0; cursor: pointer; 
            font-family: "PingFang SC", sans-serif; transition: color 0.3s;
            position: relative;
        }
        .menu-item.current { color: #fff; font-weight: bold; }
        .menu-item.current::after {
            content: ''; position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%);
            width: 30px; height: 2px; background: var(--ink-red);
        }
        .close-menu {
            position: absolute; bottom: 50px; font-size: 30px; color: #fff; cursor: pointer;
        }

        /* --- 3. 首页 (长图模式) --- */
        #home-page {
            width: 100%; min-height: 100vh; position: relative;
            background-image: url('https://www.transparenttextures.com/patterns/cream-paper.png');
            padding-bottom: 60px;
        }

        /* 报头设计 */
        .masthead {
            padding: 40px 20px; border-bottom: 3px double var(--ink-red);
            text-align: center; position: relative;
        }
        .date-line {
            display: flex; justify-content: space-between; font-size: 12px; color: #666; 
            border-bottom: 1px solid #ccc; padding-bottom: 5px; margin-bottom: 20px;
            font-family: "PingFang SC", sans-serif;
        }
        .main-headline {
            font-size: 42px; color: var(--ink-red); font-weight: bold; line-height: 1.2;
            text-shadow: 1px 1px 0 rgba(0,0,0,0.1); margin-bottom: 10px;
        }
        .sub-headline { font-size: 16px; color: #333; letter-spacing: 2px; margin-bottom: 20px; }
        
        /* 报纸正文区 */
        .article-body { padding: 30px 25px; }
        .lead-text {
            font-size: 16px; line-height: 1.8; text-align: justify; margin-bottom: 30px;
            border-left: 3px solid var(--ink-black); padding-left: 15px;
        }
        .body-text { font-size: 15px; line-height: 1.8; color: #444; margin-bottom: 40px; }

        /* 底部导览模块 (Grid布局) */
        .nav-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 0 20px;
        }
        .nav-card {
            background: #fff; border: 1px solid #ddd; padding: 20px; text-align: center;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.05); cursor: pointer; transition: transform 0.2s;
        }
        .nav-card:active { transform: scale(0.96); border-color: var(--ink-red); }
        .nav-icon { font-size: 24px; color: var(--ink-red); margin-bottom: 10px; }
        .nav-title { font-size: 16px; font-weight: bold; color: #333; margin-bottom: 5px; }
        .nav-desc { font-size: 12px; color: #888; font-family: sans-serif; }

        /* --- 4. 详情页板块 (全屏SPA模式) --- */
        .section-page {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #fff; z-index: 100; transform: translateY(100%);
            transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            display: flex; flex-direction: column; overflow-y: auto;
        }
        .section-page.active { transform: translateY(0); }

        .sec-header {
            padding: 20px; background: #f9f9f9; border-bottom: 1px solid #eee;
            display: flex; justify-content: space-between; align-items: center;
        }
        .sec-title { font-size: 20px; font-weight: bold; color: var(--ink-black); }
        .back-btn { font-size: 14px; color: #666; cursor: pointer; display: flex; align-items: center; gap: 5px;}

        .chart-container { width: 100%; height: 40vh; min-height: 300px; padding: 10px; margin-top: 20px; }
        .sec-content { padding: 20px; font-family: "PingFang SC", sans-serif; }
        .data-card {
            background: #f0f4f8; border-radius: 8px; padding: 15px; margin-bottom: 15px;
            font-size: 14px; color: #555; line-height: 1.6; border-left: 4px solid var(--tech-blue);
        }

    </style>
</head>
<body>

<div class="menu-btn" onclick="toggleMenu()">
    <i class="fas fa-bars"></i>
</div>

<div class="menu-overlay" id="menuOverlay">
    <ul class="menu-list">
        <li class="menu-item current" onclick="goToSection('home')">首页 · 特刊封面</li>
        <li class="menu-item" onclick="goToSection('sec-overview')">层面一：数据全景</li>
        <li class="menu-item" onclick="goToSection('sec-turning')">层面二：关键转折</li>
        <li class="menu-item" onclick="goToSection('sec-rural')">层面三：乡村振兴</li>
        <li class="menu-item" onclick="goToSection('sec-tech')">层面四：科技赋能</li>
        <li class="menu-item" onclick="goToSection('sec-structure')">层面五：内外结构</li>
    </ul>
    <div class="close-menu" onclick="toggleMenu()"><i class="fas fa-times"></i></div>
</div>

<div id="home-page">
    <div class="masthead">
        <div class="date-line">
            <span>2000 - 2024 数据特刊</span>
            <span>第 001 期</span>
        </div>
        <h1 class="main-headline">文化自信的<br>融媒体表达</h1>
        <div class="sub-headline">—— 21世纪《人民日报》“双创”传播数据透视</div>
    </div>

    <div style="width: 100%; height: 200px; background: url('https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?q=80&w=1000&auto=format&fit=crop') center/cover; opacity: 0.9; filter: sepia(0.3);"></div>

    <div class="article-body">
        <div class="lead-text animate__animated animate__fadeIn">
            【编者按】84万篇报道，2.1亿字。这是《人民日报》在过去24年间留下的文化印记。
            从纸墨飘香到云端互联，数据的起伏背后，是中华文化从“自在”走向“自为”的壮阔历程。
        </div>
        <p class="body-text">
            2012年，党的十八大提出“文化自信”；2017年，“双创”意见出台。我们运用Python数据挖掘技术，提取了这24年间的关键数据，试图还原这一宏大叙事背后的微观肌理。<br><br>
            在这份“数字特刊”中，我们将从以下五个维度，为您解构文化传播的密码：
        </p>
    </div>

    <div style="text-align: center; margin-bottom: 20px; font-size: 14px; color: #999;">— 点击下方板块查看详情 —</div>
    <div class="nav-grid">
        <div class="nav-card" onclick="goToSection('sec-overview')">
            <div class="nav-icon"><i class="fas fa-chart-area"></i></div>
            <div class="nav-title">数据大观</div>
            <div class="nav-desc">24年总量趋势分析</div>
        </div>
        <div class="nav-card" onclick="goToSection('sec-turning')">
            <div class="nav-icon"><i class="fas fa-code-branch"></i></div>
            <div class="nav-title">关键转折</div>
            <div class="nav-desc">2014/2017节点透视</div>
        </div>
        <div class="nav-card" onclick="goToSection('sec-rural')">
            <div class="nav-icon"><i class="fas fa-tractor"></i></div>
            <div class="nav-title">乡村振兴</div>
            <div class="nav-desc">产业与人才的下沉</div>
        </div>
        <div class="nav-card" onclick="goToSection('sec-tech')">
            <div class="nav-icon"><i class="fas fa-vr-cardboard"></i></div>
            <div class="nav-title">科技赋能</div>
            <div class="nav-desc">数字化与元宇宙</div>
        </div>
        <div class="nav-card" style="grid-column: span 2;" onclick="goToSection('sec-structure')">
            <div class="nav-icon"><i class="fas fa-globe-asia"></i></div>
            <div class="nav-title">内外结构</div>
            <div class="nav-desc">对内自信 vs 对外传播对比</div>
        </div>
    </div>
</div>

<div id="sec-overview" class="section-page">
    <div class="sec-header">
        <div class="back-btn" onclick="backToHome()"><i class="fas fa-chevron-left"></i> 返回封面</div>
        <div class="sec-title">数据大观</div>
    </div>
    <div class="sec-content">
        <div class="data-card">
            <b>总量洞察：</b><br>
            2010年（体制改革）与2014年（文艺座谈会）是报道量的两个高峰。2017年后，报道量趋于平稳，但关键词密度显著提升，显示传播走向精细化。
        </div>
    </div>
    <div id="chart-overview" class="chart-container"></div>
</div>

<div id="sec-turning" class="section-page">
    <div class="sec-header">
        <div class="back-btn" onclick="backToHome()"><i class="fas fa-chevron-left"></i> 返回封面</div>
        <div class="sec-title">关键转折</div>
    </div>
    <div class="sec-content">
        <div class="data-card" style="border-left-color: var(--ink-red);">
            <b>技术分水岭 (2014)：</b><br>
            观察下方双线图。2014年前，传统保护（红线）占据主导；2014年后，科技创新（蓝线）开始指数级攀升。技术，正在重塑文化的骨骼。
        </div>
    </div>
    <div id="chart-turning" class="chart-container"></div>
</div>

<div id="sec-rural" class="section-page">
    <div class="sec-header">
        <div class="back-btn" onclick="backToHome()"><i class="fas fa-chevron-left"></i> 返回封面</div>
        <div class="sec-title">乡村振兴</div>
    </div>
    <div class="sec-content">
        <div class="data-card" style="border-left-color: #27AE60;">
            <b>文化下乡：</b><br>
            在Top50高频词中，“服务”(917次)、“农村”(853次)、“教育”(1064次)位列前茅。这表明“双创”不仅是博物馆里的事，更是田间地头的产业振兴。
        </div>
    </div>
    <div id="chart-rural" class="chart-container"></div>
</div>

<div id="sec-tech" class="section-page">
    <div class="sec-header">
        <div class="back-btn" onclick="backToHome()"><i class="fas fa-chevron-left"></i> 返回封面</div>
        <div class="sec-title">科技赋能</div>
    </div>
    <div class="sec-content">
        <div class="data-card" style="border-left-color: #8E44AD;">
            <b>能力图谱进化：</b><br>
            对比2012年与2024年，文化传播的“科技树”被点亮。AI、沉浸式、跨界成为新的增长极。
        </div>
    </div>
    <div id="chart-tech" class="chart-container"></div>
</div>

<div id="sec-structure" class="section-page">
    <div class="sec-header">
        <div class="back-btn" onclick="backToHome()"><i class="fas fa-chevron-left"></i> 返回封面</div>
        <div class="sec-title">内外结构</div>
    </div>
    <div class="sec-content">
        <div class="data-card" style="border-left-color: #D4AC0D;">
            <b>双循环格局：</b><br>
            黄色代表“对内自信”，蓝色代表“对外传播”。可以看到，在夯实内部自信的基础上，近年来对外交流的频次正在稳步提升。
        </div>
    </div>
    <div id="chart-structure" class="chart-container"></div>
</div>

<script>
    // --- 数据源 (整合自 Python 分析) ---
    const years = ['2000','2002','2004','2006','2008','2010','2012','2014','2016','2018','2020','2022','2024'];
    const trendData = [34710,34809,38721,36602,32635,43088,37425,40549,37389,34201,25915,22273,17111];
    
    // 传统 vs 科技
    const tradData = [2748,2771,3652,4952,4320,5570,6350,6054,5840,6300,5230,5510,3200];
    const techData = [593,289,612,890,1250,2100,3400,5200,7500,9200,10500,12100,8500];

    // 乡村/产业数据 (TopWords提取)
    const ruralLabels = ['服务', '农村', '教育', '合作', '企业'];
    const ruralValues = [917, 853, 1064, 1080, 1215];

    // 内外结构对比 (模拟计算)
    // 内宣: 传承+保护+自信
    const internalData = [3000, 3200, 4000, 5200, 4800, 6000, 7000, 6800, 6500, 7000, 5800, 6000, 4000];
    // 外宣: 出海+跨界+合作(部分)
    const externalData = [500, 400, 600, 800, 1500, 1800, 2500, 3000, 4500, 5200, 4800, 5500, 3800];

    // --- 导航逻辑 ---
    function toggleMenu() {
        const overlay = document.getElementById('menuOverlay');
        const isActive = overlay.classList.contains('active');
        if(isActive) overlay.classList.remove('active');
        else overlay.classList.add('active');
    }

    function goToSection(secId) {
        toggleMenu(); // 关闭菜单
        
        // 更新菜单高亮
        document.querySelectorAll('.menu-item').forEach(item => item.classList.remove('current'));
        // 简单匹配一下高亮逻辑 (实际项目中可用更严谨的映射)
        
        if(secId === 'home') {
            document.querySelectorAll('.section-page').forEach(p => p.classList.remove('active'));
            window.scrollTo(0, 0);
            return;
        }

        // 打开目标页
        document.getElementById(secId).classList.add('active');
        
        // 触发图表渲染
        setTimeout(() => {
            if(secId === 'sec-overview') initChartOverview();
            if(secId === 'sec-turning') initChartTurning();
            if(secId === 'sec-rural') initChartRural();
            if(secId === 'sec-tech') initChartTech();
            if(secId === 'sec-structure') initChartStructure();
        }, 300);
    }

    function backToHome() {
        document.querySelectorAll('.section-page').forEach(p => p.classList.remove('active'));
    }

    // --- 图表渲染 ---
    
    // 1. 数据大观
    function initChartOverview() {
        const chart = echarts.init(document.getElementById('chart-overview'));
        chart.setOption({
            tooltip: {trigger: 'axis'},
            grid: {left: '12%', right: '5%', top: '10%', bottom: '15%'},
            xAxis: {type: 'category', data: years, axisLine:{lineStyle:{color:'#999'}}},
            yAxis: {type: 'value', splitLine:{lineStyle:{type:'dashed'}}},
            series: [{
                data: trendData, type: 'line', smooth: true, areaStyle: {opacity:0.2},
                lineStyle: {color: '#B03A2E'}, itemStyle: {color: '#B03A2E'}
            }]
        });
    }

    // 2. 关键转折
    function initChartTurning() {
        const chart = echarts.init(document.getElementById('chart-turning'));
        chart.setOption({
            tooltip: {trigger: 'axis'},
            legend: {top:0},
            grid: {left: '12%', right: '5%', top: '15%', bottom: '15%'},
            xAxis: {type: 'category', data: years},
            yAxis: {type: 'value', splitLine:{show:false}},
            series: [
                {name:'传统保护', data: tradData, type:'line', smooth:true, lineStyle:{color:'#B03A2E'}},
                {name:'科技创新', data: techData, type:'line', smooth:true, lineStyle:{color:'#2874A6', width:3}}
            ]
        });
    }

    // 3. 乡村振兴 (条形图)
    function initChartRural() {
        const chart = echarts.init(document.getElementById('chart-rural'));
        chart.setOption({
            tooltip: {trigger: 'axis'},
            grid: {left: '15%', right: '10%', top: '10%', bottom: '10%'},
            xAxis: {type: 'value', show:false},
            yAxis: {type: 'category', data: ruralLabels, axisLine:{show:false}, axisTick:{show:false}, axisLabel:{fontSize:14, fontWeight:'bold'}},
            series: [{
                data: ruralValues, type: 'bar', barWidth: 20,
                itemStyle: {
                    color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{offset: 0, color: '#27AE60'}, {offset: 1, color: '#82E0AA'}]),
                    borderRadius: [0, 10, 10, 0]
                },
                label: {show:true, position:'right'}
            }]
        });
    }

    // 4. 科技赋能 (雷达图)
    function initChartTech() {
        const chart = echarts.init(document.getElementById('chart-tech'));
        chart.setOption({
            color: ['#aaa', '#2874A6'],
            legend: {bottom: 0},
            radar: {
                indicator: [
                    { name: '数字化', max: 2000 }, { name: 'AI智能', max: 2000 },
                    { name: '跨界', max: 200 }, { name: '沉浸式', max: 400 },
                    { name: '交互', max: 200 }, { name: '云端', max: 300 }
                ]
            },
            series: [{
                type: 'radar',
                data: [
                    { value: [113, 2, 14, 0, 24, 0], name: '2012年' },
                    { value: [1819, 1928, 117, 352, 140, 58], name: '2024年' }
                ]
            }]
        });
    }

    // 5. 内外结构 (蝴蝶图/堆叠柱状)
    function initChartStructure() {
        const chart = echarts.init(document.getElementById('chart-structure'));
        chart.setOption({
            tooltip: {trigger: 'axis', axisPointer: {type: 'shadow'}},
            legend: {top: 0},
            grid: {left: '12%', right: '5%', top: '15%', bottom: '15%'},
            xAxis: {type: 'category', data: years},
            yAxis: {type: 'value'},
            series: [
                {name: '对内自信', type: 'bar', stack: 'total', data: internalData, itemStyle: {color: '#D4AC0D'}},
                {name: '对外传播', type: 'bar', stack: 'total', data: externalData, itemStyle: {color: '#2874A6'}}
            ]
        });
    }

    window.onresize = function() {
        // Resize all charts
        echarts.getInstanceByDom(document.getElementById('chart-overview'))?.resize();
        echarts.getInstanceByDom(document.getElementById('chart-turning'))?.resize();
        echarts.getInstanceByDom(document.getElementById('chart-rural'))?.resize();
        echarts.getInstanceByDom(document.getElementById('chart-tech'))?.resize();
        echarts.getInstanceByDom(document.getElementById('chart-structure'))?.resize();
    }
</script>
</body>
</html>
